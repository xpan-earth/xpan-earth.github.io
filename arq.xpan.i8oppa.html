<!DOCTYPE html>
<html lang="es" data-xpan>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="color-scheme" content="light dark"/>
  <title>i8oppa — arquitectura</title>

  <style>
    /* ===== tokens post-tech ===== */
    :root{
      --bg:#000; --fg:#E0E3E6; --fg-dim:#AEB4BA; --accent:#1860FF;
      --line:#2A2E31; --line-weak:#1A1D20; --b1:1px solid var(--line);
      --font-ui:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      --font-mono:"IBM Plex Mono","SFMono-Regular",Menlo,Consolas,Monaco,monospace;
      --maxw:1000px; --pad-x:clamp(16px,4vw,48px); --header-h:64px;
    }
    @media (prefers-color-scheme:light){
      :root{ --bg:#fff; --fg:#0E1113; --fg-dim:#4A5158; --accent:#1860FF; --line:#D9DEE2; --line-weak:#ECEFF2; }
    }

    /* ===== base ===== */
    *,*::before,*::after{box-sizing:border-box}
    html,body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:var(--font-ui);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }
    a{color:var(--accent); text-decoration:none; border-bottom:1px solid transparent; transition:border-color .15s linear}
    a:hover{border-bottom-color:var(--accent)}
    img,video,iframe,svg{display:block; max-width:100%; height:auto; background:transparent}

    /* ===== header ===== */
    header{position:fixed; top:12px; left:var(--pad-x); z-index:10; height:var(--header-h); display:flex; align-items:center}
    header img{width:50px; height:auto; mix-blend-mode:difference; filter:invert(1) saturate(100%)}
    @media (prefers-color-scheme:light){ header img{ filter:none } }

    /* ===== selector de idioma ===== */
    .lang-select{
      position:fixed; top:12px; right:var(--pad-x); z-index:20; display:flex; gap:8px;
      font:600 .9rem/1 var(--font-ui); text-transform:lowercase;
    }
    .lang-select button{
      appearance:none; background:transparent; border:var(--b1); border-radius:0;
      padding:.35rem .6rem; cursor:pointer; color:var(--fg-dim); letter-spacing:.2px;
      transition:color .15s linear, border-color .15s linear, background-color .15s linear, opacity .15s linear;
      opacity:.72;
    }
    .lang-select button:hover{opacity:1; color:var(--fg)}
    .lang-select button.active{opacity:1; color:var(--fg); border-color:var(--accent); background:rgba(24,96,255,.06)}

    /* ===== layout ===== */
    .container{max-width:var(--maxw); margin:calc(var(--header-h) + 40px) auto 64px; padding:0 var(--pad-x)}
    h1{font:700 1.5rem/1.25 var(--font-ui); margin:0 0 .5rem; text-transform:lowercase}
    .meta{font:400 .9rem/1.5 var(--font-ui); color:var(--fg-dim); margin:0 0 1.5rem}
    .description{font:400 1rem/1.65 var(--font-ui); max-width:700px; margin:0 0 2rem; display:none}
    .description.active{display:block}

    /* ===== galería ===== */
    .gallery{display:grid; grid-template-columns:repeat(2,1fr); gap:.75rem; margin-bottom:2rem}
    .gallery img{width:100%; height:auto; object-fit:cover; border:var(--b1)}
    @media (max-width:768px){ .gallery{grid-template-columns:1fr} }

    /* ===== pdfs ===== */
    .pdf-embed{display:flex; flex-direction:column; gap:1.5rem; margin-bottom:2rem; overflow-x:auto}
    .pdf-embed iframe{min-width:1000px; height:600px; border:var(--b1); background:#0C0D0F}
    /* añadido: estilo equivalente para <object> PDF */
    .pdf-embed object{min-width:1000px; height:600px; border:var(--b1); background:#0C0D0F}
    @media (max-width:768px){
      .container{margin:calc(var(--header-h) + 28px) auto 40px}
      .pdf-embed iframe{min-width:100%; height:auto; aspect-ratio:4/3}
      .pdf-embed object{min-width:100%; height:auto; aspect-ratio:4/3}
    }

    /* ===== SVG (riel) ===== */
    /* líneas del riel en tono de línea del tema */
    svg .rail-line{ stroke: var(--line); }
    /* iconos: blanco en dark, negro en light */
    svg .rail-icon{ filter: invert(1); }
    @media (prefers-color-scheme:light){ svg .rail-icon{ filter: none; } }
  </style>

  <!-- util existente preservado -->
  <script src="/assets/js/media-proxy.js" defer></script>
</head>
<body>
  <header>
    <a href="https://xpan.earth" target="_blank" rel="noopener">
      <img src="xpan.svg" alt="xpan logo" fetchpriority="high"/>
    </a>
  </header>

  <div class="lang-select">
    <button onclick="setLang('es')" class="active" aria-pressed="true">es</button>
    <button onclick="setLang('en')" aria-pressed="false">en</button>
    <button onclick="setLang('fr')" aria-pressed="false">fr</button>
    <button onclick="setLang('jp')" aria-pressed="false">jp</button>
  </div>

  <div class="container">
    <h1>i8oppa</h1>
    <div class="meta">mayo 2022 — ciudad de méxico</div>

    <!-- Descripciones por idioma (preservadas) -->
    <div class="description active" lang="es">
      i8oppa [sistema octofónico oscilatorio para piezas acusmáticas] fue desarrollado por sound + (xpan) como parte del programa público de material art fair 2022. un sistema multicanal compuesto por ocho bocinas mdl.1 suspendidas sobre cuatro niveles de rieles de acero, diseñado para ser manipulado físicamente por el espectador.<br><br>
      cada bocina podía desplazarse horizontalmente mediante rodamientos instalados sobre la estructura metálica. el espacio —de 6 x 6 x 2.4 metros— estaba recubierto por una membrana acústica de fibra de vidrio empotrada en malla metálica, definiendo un contorno poroso y absorbente.<br><br>
      se presentaron cinco piezas octofónicas seleccionadas mediante convocatoria abierta, reproducidas en un entorno donde la obra no era fija ni pasiva. el público habitaba la instalación, transformando activamente la espacialización sonora.<br><br>
      i8oppa propone una democratización activa del arte sonoro: una infraestructura técnica que articula escucha, desplazamiento, decisión y vibración en un sistema físico de múltiples entradas perceptuales.
    </div>

    <div class="description" lang="en">
      i8oppa [octophonic oscillatory system for acousmatic pieces] was developed by sound + (xpan) as part of the public program of material art fair 2022. a multichannel system composed of eight mdl.1 speakers suspended on four levels of steel rails, designed to be physically manipulated by the viewer.<br><br>
      each speaker could move horizontally using ball bearings installed on the metal structure. the space —6 x 6 x 2.4 meters— was lined with a fiberglass acoustic membrane embedded in metal mesh, creating a porous and absorbent boundary.<br><br>
      five octophonic pieces were presented, selected through an open call, played in an environment where the work was neither fixed nor passive. the audience inhabited the installation, actively transforming the spatialization of sound.<br><br>
      i8oppa proposes an active democratization of sound art: a technical infrastructure that articulates listening, movement, decision, and vibration in a physical system of multiple perceptual inputs.
    </div>

    <div class="description" lang="fr">
      i8oppa [système octophonique oscillant pour pièces acousmatiques] a été développé par sound + (xpan) dans le cadre du programme public de material art fair 2022. un système multicanal composé de huit haut-parleurs mdl.1 suspendus sur quatre niveaux de rails en acier, conçu pour être manipulé physiquement par le spectateur.<br><br>
      chaque haut-parleur pouvait se déplacer horizontalement grâce à des roulements à billes installés sur la structure métallique. l’espace —6 x 6 x 2.4 mètres— était recouvert d’une membrane acoustique en fibre de verre enchâssée dans un treillis métallique, définissant une limite poreuse et absorbante.<br><br>
      cinq pièces octophoniques sélectionnées par appel ouvert ont été présentées, jouées dans un environnement où l’œuvre n’était ni fixe ni passive. le public habitait l’installation, transformant activement la spatialisation sonore.<br><br>
      i8oppa propose une démocratisation active de l’art sonore : une infrastructure technique qui articule écoute, déplacement, décision et vibration dans un système physique à entrées perceptuelles multiples.
    </div>

    <div class="description" lang="jp">
      i8oppa（アクスマティック作品のためのオクトフォニック振動システム）は、material art fair 2022 の公共プログラムの一環として sound +（xpan）によって開発されました。スチールレール4層に吊るされた8つの mdl.1 スピーカーからなるマルチチャンネルシステムで、観客が物理的に操作できるように設計されています。<br><br>
      各スピーカーは金属構造上のベアリングによって水平移動が可能でした。空間（6 x 6 x 2.4 メートル）はガラス繊維の音響膜と金網で覆われ、吸音性と通気性のある輪郭が形成されました。<br><br>
      公募で選ばれた5つのオクトフォニック作品が提示され、作品は固定されることなく、観客によって空間化が能動的に変化しました。<br><br>
      i8oppa は音響芸術の能動的民主化を提案します。聴覚・移動・判断・振動を物理的に統合した多感覚的なシステムです。
    </div>

    <!-- Animación SVG (con iconos adaptativos por tema) -->
    <svg viewBox="0 0 800 600" width="100%" height="400" xmlns="http://www.w3.org/2000/svg" style="margin-bottom:2rem">
      <defs>
        <path id="rail1" d="M700,100 C500,100 300,200 100,300"/>
        <path id="rail2" d="M700,180 C500,180 300,280 100,380"/>
        <path id="rail3" d="M700,260 C500,260 300,360 100,460"/>
        <path id="rail4" d="M700,340 C500,340 300,440 100,540"/>
      </defs>
      <use href="#rail1" class="rail-line" fill="none" stroke-width="1"/>
      <use href="#rail2" class="rail-line" fill="none" stroke-width="1"/>
      <use href="#rail3" class="rail-line" fill="none" stroke-width="1"/>
      <use href="#rail4" class="rail-line" fill="none" stroke-width="1"/>

      <!-- Bocinas en movimiento (xpan.svg invertido en dark) -->
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="6s" repeatCount="indefinite" rotate="auto"><mpath href="#rail1"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="8s" repeatCount="indefinite" begin="2s" rotate="auto"><mpath href="#rail1"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="7s" repeatCount="indefinite" begin="1s" rotate="auto"><mpath href="#rail2"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="6.5s" repeatCount="indefinite" begin="0.5s" rotate="auto"><mpath href="#rail2"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="7.2s" repeatCount="indefinite" begin="3s" rotate="auto"><mpath href="#rail3"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="5.8s" repeatCount="indefinite" begin="0.3s" rotate="auto"><mpath href="#rail3"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="6.2s" repeatCount="indefinite" begin="1.7s" rotate="auto"><mpath href="#rail4"/></animateMotion>
      </image>
      <image class="rail-icon" href="xpan.svg" width="30" height="30" transform="rotate(180)">
        <animateMotion dur="7.8s" repeatCount="indefinite" begin="4s" rotate="auto"><mpath href="#rail4"/></animateMotion>
      </image>
    </svg>

    <!-- Galería -->
    <div class="gallery">
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/38004083/original_10a95d3709d36ea697ae5b6c233f0d25.png?1752106032?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/38004092/original_d593040c6271fbb6f8a68213b99735c5.png?1752106071?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/38004099/original_2eaa1eefe3101d2b3a72b7a5b2e9d2fd.png?1752106102?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/38004101/original_73f7ebac96bf9cc2eda74b379f47b24c.png?1752106123?bc=0"/>
    </div>

    <!-- PDFs -->
    <div class="pdf-embed">
      <object type="application/pdf" title="i8oppa — planos 1"
              data-src="https://attachments.are.na/38004245/223ae6825a6387b8c3c44810c88b519b.pdf?1752106540#page=1&zoom=page-width&view=FitH&toolbar=1&navpanes=0&statusbar=0"></object>
      <object type="application/pdf" title="i8oppa — planos 2"
              data-src="https://attachments.are.na/38004272/edc67bb9603941e5a1af0aeacd71c734.pdf?1752106586#page=1&zoom=page-width&view=FitH&toolbar=1&navpanes=0&statusbar=0"></object>
    </div>
  </div>

  <!-- idioma + lazy -->
  <script>
    function setLang(lang){
      localStorage.setItem('lang', lang);
      document.documentElement.setAttribute('lang', lang);
      document.querySelectorAll('.description').forEach(el=>{
        el.classList.toggle('active', el.getAttribute('lang')===lang);
      });
      document.querySelectorAll('.lang-select button').forEach(btn=>{
        const on = btn.textContent.trim()===lang;
        btn.classList.toggle('active', on);
        btn.setAttribute('aria-pressed', on?'true':'false');
      });
    }
    // boot idioma
    (function(){
      const saved = localStorage.getItem('lang') || (navigator.language||'es').slice(0,2);
      setLang(['es','en','fr','jp'].includes(saved)?saved:'es');
    })();
    // lazy imágenes/iframes/objects
    (function(){
      const io=new IntersectionObserver((es)=>{
        es.forEach(en=>{
          if(!en.isIntersecting) return;
          const el=en.target, src=el.getAttribute('data-src');
          if(src){
            if(el.tagName==='OBJECT') el.data = src; else el.src = src;
            el.removeAttribute('data-src');
          }
          io.unobserve(el);
        });
      },{rootMargin:'600px 0px', threshold:0});
      document.querySelectorAll('img[data-src],iframe[data-src],object[data-src]').forEach(el=> io.observe(el));
    })();
  </script>

  <!-- lightbox preservado -->
  <style>
    #xpan-lightbox{position:fixed;inset:0;z-index:9999;display:none;align-items:center;justify-content:center;background:rgba(10,10,10,.45);backdrop-filter:blur(10px) saturate(120%);-webkit-backdrop-filter:blur(10px) saturate(120%);touch-action:none;overscroll-behavior:contain}
    #xpan-lightbox.open{display:flex}
    #xpan-lightbox .sheet{position:relative;max-width:100vw;max-height:100vh;overflow:hidden;transform:scale(.985);opacity:0;transition:transform .18s cubic-bezier(.2,.8,.2,1),opacity .18s ease}
    #xpan-lightbox.open .sheet{transform:scale(1);opacity:1}
    #xpan-lightbox img{display:block;width:auto;height:auto;max-width:100vw;max-height:100vh;object-fit:contain;margin:0;background:transparent;pointer-events:none}
    #xpan-lightbox video{display:block;width:auto;height:auto;max-width:100vw;max-height:100vh;object-fit:contain;margin:0;background:transparent;pointer-events:auto}
    html.lb-open,body.lb-open{overflow:hidden;touch-action:none}
    @media (prefers-color-scheme:light){#xpan-lightbox{background:rgba(255,255,255,.55)}}
  </style>
  <div id="xpan-lightbox" role="dialog" aria-modal="true"><div class="sheet"></div></div>
  <script>
    (()=>{const e=document.getElementById("xpan-lightbox"),t=e.querySelector(".sheet");let n=[],i=-1,o=0,a=0;
      function d(){n=Array.from(document.querySelectorAll("img,video")).filter(r=>!r.closest("#xpan-lightbox")&&!r.closest("a")&&(r.currentSrc||r.src))}
      function l(r){if(r<0||r>=n.length)return;i=r,t.innerHTML="";const o=n[i],d=o.tagName.toLowerCase()==="video",l=document.createElement(d?"video":"img");
        if(d){l.src=o.currentSrc||o.src;l.playsInline=!0;l.controls=!0;l.loop=!!o.loop;l.muted=o.muted??!0;!document.hidden&&(l.autoplay=!0);
          l.addEventListener("click",s=>s.stopPropagation(),{passive:!0});
          l.addEventListener("dblclick",s=>{s.stopPropagation(),c()});
          l.addEventListener("touchend",s=>{const e=s.changedTouches[0].clientX;const t=Date.now();Math.abs(e-a)<10&&t-o<300&&(s.stopPropagation(),c());a=e;o=t},{passive:!0})}
        else{l.src=o.currentSrc||o.src;o.srcset&&(l.srcset=o.srcset);o.sizes&&(l.sizes=o.sizes);l.alt=o.alt||"";l.decoding="async";l.loading="eager"}
        t.appendChild(l);e.classList.add("open");document.documentElement.classList.add("lb-open");document.body.classList.add("lb-open")}
      function c(){e.classList.remove("open"),t.innerHTML="",document.documentElement.classList.remove("lb-open"),document.body.classList.remove("lb-open"),i=-1}
      function s(e){d();const t=n.indexOf(e);t>-1&&l(t)}
      document.body.addEventListener("click",t=>{const e=t.target;if(!e)return;if(e.closest("a"))return;if(e.tagName==="IMG"||e.tagName==="VIDEO"){t.preventDefault(),t.stopPropagation(),s(e)}},{capture:!0,passive:!1});
      e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),c()},{passive:!1});
      window.addEventListener("keydown",t=>{if(!e.classList.contains("open"))return;"Escape"===t.key&&c(),("ArrowRight"===t.key||"l"===t.key)&&i<n.length-1&&l(i+1),("ArrowLeft"===t.key||"h"===t.key)&&i>0&&l(i-1)});
      e.addEventListener("touchstart",e=>{o=Date.now(),a=e.touches[0].clientX},{passive:!0});
      e.addEventListener("touchend",e=>{const t=e.changedTouches[0].clientX-a;Math.abs(t)>50&&(t<0&&i<n.length-1?l(i+1):t>0&&i>0&&l(i-1))},{passive:!0});
      ["wheel","touchmove","pointermove"].forEach(t=>{e.addEventListener(t,n=>{e.classList.contains("open")&&n.preventDefault()},{passive:!1})});
      new MutationObserver(()=>d()).observe(document.documentElement,{subtree:!0,childList:!0}); d();
    })();
  </script>
</body>
</html>
