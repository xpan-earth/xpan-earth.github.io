<!DOCTYPE html>
<html lang="es" data-xpan>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="color-scheme" content="light dark"/>
  <title>xpan — marco teórico</title>

  <!-- ===== post-tech / defense-ops: tokens y sistema UI ===== -->
  <style>
    [data-xpan]{
      /* Núcleo cromático */
      --bg:#000; --fg:#E0E3E6; --fg-dim:#AEB4BA;
      --line:#1B2228; --line-weak:#0E1418;
      --accent:#00E0C6;      /* aqua radar */
      --accent2:#52FF7D;     /* green radar */
      --alert:#FF3B3B;       /* rojo alarma */

      /* Tipografías UI */
      --font-ui:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      --font-mono:"IBM Plex Mono","SFMono-Regular",Menlo,Consolas,Monaco,monospace;

      /* Layout */
      --pad-x:clamp(16px,4vw,48px); --header-h:64px; --maxw:980px;

      /* HUD */
      --grid:28px; --grid-l:1px;
      --scan-speed:23s;    /* barrido radar */
      --glow: drop-shadow(0 0 8px color-mix(in oklab, var(--accent) 55%, transparent));
      --glow-weak: drop-shadow(0 0 4px color-mix(in oklab, var(--accent2) 45%, transparent));
    }
    @media (prefers-color-scheme:light){
      [data-xpan]{
        --bg:#fff; --fg:#0E1113; --fg-dim:#4A5158;
        --line:#D9DEE2; --line-weak:#ECEFF2;
        --accent:#0EA5A5; --accent2:#12B76A;
      }
    }

    /* Reset mínimo */
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    html,body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:var(--font-ui); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow:hidden;
    }
    a{color:var(--fg);text-decoration:none;border-bottom:1px solid transparent;transition:border-color .15s linear}
    a:hover{border-bottom-color:var(--accent)}

    /* ===== HUD global de fondo: grid + scanlines + radar sweep ===== */
    .hud{
      position:fixed; inset:0; pointer-events:none; z-index:0;
      background:
        /* grid x */
        linear-gradient(to right, color-mix(in oklab, var(--line) 92%, transparent) 0 var(--grid-l), transparent var(--grid-l)) 0 0/var(--grid) var(--grid),
        /* grid y */
        linear-gradient(to bottom, color-mix(in oklab, var(--line) 92%, transparent) 0 var(--grid-l), transparent var(--grid-l)) 0 0/var(--grid) var(--grid),
        /* scanlines sutiles */
        repeating-linear-gradient(180deg, transparent 0 2px, color-mix(in oklab, var(--line-weak) 40%, transparent) 2px 3px);
      animation:hud-drift var(--scan-speed) linear infinite;
    }
    @keyframes hud-drift{
      0%{background-position:0 0,0 0,0 0}
      100%{background-position:var(--grid) var(--grid),var(--grid) var(--grid),0 120px}
    }

    /* Radar circular central */
    .radar{
      position:fixed; inset:0; pointer-events:none; z-index:0;
      -webkit-mask:radial-gradient(ellipse at 50% 50%, rgba(0,0,0,.75), transparent 70%);
              mask:radial-gradient(ellipse at 50% 50%, rgba(0,0,0,.75), transparent 70%);
      background:
        conic-gradient(from 0deg, color-mix(in oklab, var(--accent) 22%, transparent) 0 8%, transparent 8% 100%);
      animation:radar-sweep 3.5s linear infinite;
      opacity:.45;
      filter:var(--glow-weak);
    }
    @keyframes radar-sweep{
      to{transform:rotate(1turn)}
    }

    /* ===== Header / logo con auto-contraste ===== */
    header{
      position:fixed; top:12px; left:var(--pad-x); right:var(--pad-x);
      height:var(--header-h); display:flex; align-items:center; z-index:30;
      border-bottom:1px solid var(--line);
      backdrop-filter:saturate(120%) blur(4px);
      -webkit-backdrop-filter:saturate(120%) blur(4px);
    }
    header .brand{display:flex; align-items:center; gap:.75rem; font:600 .9rem/1 var(--font-ui); letter-spacing:.02em}
    header img{width:50px; height:auto; mix-blend-mode:difference; filter:invert(1) saturate(100%); transition:filter .25s}
    @media (prefers-color-scheme:light){ header img{ mix-blend-mode:normal; filter:none } }

    /* ===== Nodo central: logo flotante ===== */
    .logo{
      position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
      width:104px; height:auto; z-index:20; cursor:pointer;
      animation:fadeIn .8s ease-out;
      filter:var(--glow);
    }
    .logo img{width:100%; height:auto; display:block; filter:invert(1) brightness(100%); transition:transform .18s ease}
    .logo:active img{transform:scale(.98)}
    @media (prefers-color-scheme:light){ .logo img{filter:none} }

    /* ===== Enlaces/secciones como nodos HUD ===== */
    .link{
      position:absolute; transform:translate(-50%,-50%);
      font:600 .9rem/1 var(--font-ui); text-transform:lowercase;
      color:var(--fg); z-index:15; padding:.4rem .6rem;
      border:1px solid color-mix(in oklab, var(--line) 70%, transparent);
      background:linear-gradient(180deg, color-mix(in oklab, var(--line-weak) 25%, transparent), transparent);
      box-shadow:inset 0 0 0 1px color-mix(in oklab, var(--line) 50%, transparent);
      transition:opacity .15s linear, transform .15s linear, border-color .15s linear;
      filter:var(--glow-weak);
    }
    .link:hover{
      border-color:var(--accent);
      transform:translate(-50%,-50%) scale(1.02);
    }

    /* ===== Líneas dinámicas conectando logo ↔ enlaces ===== */
    svg.lines{
      position:absolute; inset:0; width:100%; height:100%;
      z-index:10; pointer-events:none; transition:opacity .15s linear;
    }
    .lines line{
      stroke:url(#wireGrad);
      stroke-opacity:.85; stroke-width:1;
      stroke-dasharray:1100; stroke-dashoffset:1100;
      animation:wire-draw .9s ease-out forwards;
      filter:var(--glow-weak);
    }
    @keyframes wire-draw{to{stroke-dashoffset:0}}

    /* ===== Overlay / panel descriptivo multilenguaje ===== */
    .overlay{
      position:fixed; inset:0; z-index:40;
      padding:2rem 1rem; display:flex; flex-direction:column; align-items:center;
      background:rgba(12,18,22,.48);
      backdrop-filter:blur(12px) saturate(120%);
      -webkit-backdrop-filter:blur(12px) saturate(120%);
      opacity:0; pointer-events:none; transition:opacity .18s linear;
    }
    @media (prefers-color-scheme:light){
      .overlay{ background:rgba(255,255,255,.66) }
    }
    .overlay.active{ opacity:1; pointer-events:auto }

    .language-selector{ text-align:center; margin:0 0 1rem }
    .language-selector button{
      appearance:none; background:transparent;
      border:1px solid var(--line); color:var(--fg-dim);
      font:700 .85rem/1 var(--font-ui); text-transform:lowercase;
      padding:.38rem .65rem; margin:0 .25rem; cursor:pointer;
      transition:color .15s linear, border-color .15s linear, background-color .15s linear, transform .12s ease;
    }
    .language-selector button:hover{ color:var(--fg); transform:translateY(-1px) }
    .language-selector button.active{
      color:var(--fg); border-color:var(--accent);
      background:rgba(0,224,198,.08);
      box-shadow:0 0 0 1px rgba(0,224,198,.18) inset;
    }

    .description{
      max-width:var(--maxw); width:100%;
      font:400 1rem/1.62 var(--font-ui); color:var(--fg);
      border:1px solid var(--line);
      background:
        radial-gradient(1200px 400px at 50% 0%, color-mix(in oklab, var(--accent) 6%, transparent), transparent),
        linear-gradient(180deg, color-mix(in oklab, var(--line-weak) 30%, transparent), transparent);
      padding:1.2rem 1.2rem 1.4rem;
    }
    .description p{margin:0 0 1em}
    .description .lang{display:none}
    .description .lang.active{display:block}

    /* Marcadores HUD en esquinas */
    .corners{ position:fixed; inset:0; pointer-events:none; z-index:35 }
    .corners::before,.corners::after{content:""; position:absolute; width:26px; height:26px; border:1px solid var(--accent2)}
    .corners::before{ left:10px; top:10px; border-right:none; border-bottom:none }
    .corners::after{ right:10px; bottom:10px; border-left:none; border-top:none }

    /* Accesibilidad movimiento reducido */
    @media (prefers-reduced-motion:reduce){
      .hud, .radar{animation:none}
      .lines line{animation:none; stroke-dashoffset:0}
      .link, .logo img{transition:none}
    }

    /* Móvil */
    @media (max-width:768px){
      header{left:12px; right:12px}
      .logo{width:72px}
      .link{font-size:.82rem}
      .description{font-size:.95rem; line-height:1.55}
    }

    @keyframes fadeIn{from{opacity:0; transform:translate(-50%,-50%) scale(.96)} to{opacity:1; transform:translate(-50%,-50%) scale(1)}}
  </style>
</head>
<body>
  <!-- HUD base -->
  <div class="hud" aria-hidden="true"></div>
  <div class="radar" aria-hidden="true"></div>

  <!-- header fijo -->
  <header>
    <a class="brand" href="https://xpan.earth" aria-label="xpan — home">
      <img src="xpan.svg" alt="xpan">
      <span style="opacity:.62">xpan</span>
    </a>
  </header>

  <!-- nodo central -->
  <div class="logo" id="logo" title="abrir descripción">
    <img src="xpan.svg" alt="xpan logo"/>
  </div>

  <!-- enlaces existentes: preservados -->
  <a href="12.e.html"                 class="link" style="top:10%;  left:50%;">12.e</a>
  <a href="atlas.html"                class="link" style="top:25%;  left:80%;">atlas</a>
  <a href="arquitectura.index.html"   class="link" style="top:75%;  left:80%;">sistemas espaciales</a>
  <a href="marco_teorico.index.html"  class="link" style="top:90%;  left:50%;">marco teórico</a>
  <a href="mdtc.index.html"           class="link" style="top:75%;  left:20%;">mdtc</a>
  <a href="a.e.i.index.html"          class="link" style="top:25%;  left:20%;">a.e.i.</a>

  <!-- cables -->
  <svg class="lines" aria-hidden="true" role="presentation">
    <defs>
      <linearGradient id="wireGrad" x1="0" y1="0" x2="1" y2="0">
        <stop offset="0%"  stop-color="var(--accent2)" />
        <stop offset="100%" stop-color="var(--accent)" />
      </linearGradient>
    </defs>
  </svg>

  <!-- overlay descriptivo -->
  <div class="overlay" id="overlay" aria-modal="true" role="dialog" aria-label="descripción xpan">
    <div class="language-selector" role="tablist" aria-label="idioma">
      <button data-lang="es" class="active" aria-pressed="true" role="tab">es</button>
      <button data-lang="en" aria-pressed="false" role="tab">en</button>
      <button data-lang="fr" aria-pressed="false" role="tab">fr</button>
      <button data-lang="jp" aria-pressed="false" role="tab">jp</button>
    </div>

    <div class="description">
      <!-- ES -->
      <div class="lang lang-es active">
        <p>xpan es un proyecto que diseña y construye sistemas espaciales, culturales y tecnológicos como parte de un proceso crítico sobre lenguajes, estructuras emergentes y tecnologías de interconexión colectiva.</p>
        <p>su práctica combina investigación, archivo y construcción material, generando un ecosistema donde espacios, objetos, publicaciones, sonido y herramientas digitales se integran como un sistema vivo en evolución continua.</p>
        <p>el proyecto despliega activaciones culturales y procesos experimentales, al mismo tiempo que desarrolla proyectos y servicios especializados que operan en múltiples escalas: arquitectura, diseño de sistemas espaciales, ingeniería sonora, dirección creativa, consultoría conceptual y desarrollo de herramientas tecnológicas. cada operación se aborda de manera específica, resolviendo necesidades complejas mediante infraestructuras adaptativas que se conectan al sistema global de xpan.</p>
        <p>en este marco, los sistemas creados por xpan generan efectos colaterales que van más allá de la conexión entre contextos normalmente separados —lo cultural y lo técnico, lo independiente y lo institucional, lo local y lo global—. de manera natural, emergen nuevas ecologías de colaboración, lenguajes compartidos entre disciplinas disociadas, infraestructuras adaptativas y autónomas, y espacios de coexistencia estructurada donde actores, objetos y medios que antes operaban aislados interactúan sin perder su identidad.</p>
        <p>cada sistema también produce modelos de archivo y documentación en tiempo real, capaces de escalar o ramificarse en otros territorios, expandiendo el alcance del proyecto sin necesidad de réplica literal.</p>
        <p>cada intervención —una estructura modular, una instalación sonora o una publicación— alimenta el archivo y la investigación en curso, reforzando la naturaleza colectiva, conectiva y rigurosa de xpan. el proyecto funciona así como un ecosistema en evolución continua, donde investigación, práctica material y tecnologías de interconexión operan juntas para producir procesos vivos, críticos y expansivos.</p>
      </div>

      <!-- EN -->
      <div class="lang lang-en">
        <p>xpan is a project that designs and builds spatial, cultural, and technological systems as part of a critical process on languages, emerging structures, and technologies of collective interconnection.</p>
        <p>its practice combines research, archiving, and material construction, generating an ecosystem where spaces, objects, publications, sound, and digital tools integrate as a living system in continuous evolution.</p>
        <p>the project unfolds cultural activations and experimental processes, while developing specialized projects and services that operate at multiple scales: architecture, spatial system design, sound engineering, creative direction, conceptual consulting, and technological tool development. each operation is approached specifically, solving complex needs through adaptive infrastructures connected to the global xpan system.</p>
        <p>in this framework, xpan systems generate collateral effects that go beyond connecting contexts normally separated—cultural and technical, independent and institutional, local and global. naturally, new ecologies of collaboration emerge, with shared languages across dissociated disciplines, autonomous adaptive infrastructures, and spaces of structured coexistence where actors, objects, and media that once operated in isolation interact without losing their identity.</p>
        <p>each system also produces real-time archiving and documentation models, capable of scaling or branching into other territories, expanding the project’s reach without literal replication.</p>
        <p>each intervention—whether a modular structure, a sound installation, or a publication—feeds into the ongoing archive and research, reinforcing xpan’s collective, connective, and rigorous nature. the project thus functions as a continuously evolving ecosystem, where research, material practice, and interconnection technologies work together to produce living, critical, and expansive processes.</p>
      </div>

      <!-- FR -->
      <div class="lang lang-fr">
        <p>xpan est un projet qui conçoit et construit des systèmes spatiaux, culturels et technologiques dans le cadre d’un processus critique sur les langages, les structures émergentes et les technologies d’interconnexion collective.</p>
        <p>sa pratique combine recherche, archivage et construction matérielle, générant un écosystème où espaces, objets, publications, son et outils numériques s’intègrent comme un système vivant en évolution continue.</p>
        <p>le projet déploie des activations culturelles et des processus expérimentaux, tout en développant des projets et services spécialisés à plusieurs échelles : architecture, conception de systèmes spatiaux, ingénierie sonore, direction créative, conseil conceptuel et développement d’outils technologiques. chaque opération est abordée spécifiquement, en résolvant des besoins complexes via des infrastructures adaptatives connectées au système global de xpan.</p>
        <p>dans ce cadre, les systèmes créés par xpan génèrent des effets collatéraux au-delà du simple raccord de contextes habituellement séparés—culturel/technique, indépendant/institutionnel, local/global. émergent naturellement de nouvelles écologies de collaboration, des langages partagés entre disciplines dissociées, des infrastructures adaptatives autonomes, et des espaces de coexistence structurée où acteurs, objets et médias auparavant isolés interagissent sans perdre leur identité.</p>
        <p>chaque système produit également des modèles d’archivage et de documentation en temps réel, capables de s’étendre ou de se ramifier vers d’autres territoires, étendant la portée du projet sans duplication littérale.</p>
        <p>chaque intervention—structure modulaire, installation sonore ou publication—alimente l’archive et la recherche en cours, renforçant la nature collective, connective et rigoureuse de xpan. le projet fonctionne ainsi comme un écosystème en évolution continue.</p>
      </div>

      <!-- JP -->
      <div class="lang lang-jp">
        <p>xpanは、言語・新たな構造・集団的インターコネクション技術に対する批評的プロセスの一環として、空間的・文化的・技術的なシステムを設計・構築するプロジェクトです。</p>
        <p>研究・アーカイブ・物質的構築を統合し、空間・オブジェクト・出版物・音・デジタルツールが連動する「生きたシステム」としてのエコシステムを形成します。</p>
        <p>建築、空間システム設計、音響工学、クリエイティブディレクション、概念コンサルティング、技術ツール開発まで多層に展開し、xpanのグローバルシステムへ接続された適応的インフラで複雑な要件を解決します。</p>
        <p>通常は断絶している文脈（文化／技術、独立／制度、ローカル／グローバル）を超えて、新たな協働生態系、分野横断の共有言語、自律的インフラ、そしてアイデンティティを保ちながら相互作用する構造化共存空間が立ち上がります。</p>
        <p>各システムはリアルタイムのアーカイブ／ドキュメントモデルも生み出し、文字通りの複製に頼らずに射程を広げます。</p>
        <p>モジュラー構造・サウンドインスタレーション・出版物などの介入はアーカイブと研究を継続的に更新し、集合的・接続的・厳密な性質を強化します。</p>
      </div>
    </div>
  </div>

  <div class="corners" aria-hidden="true"></div>

  <!-- ===== Interacción y lógica de cables HUD ===== -->
  <script>
    const svg = document.querySelector("svg.lines");
    const logo = document.getElementById("logo");
    const overlay = document.getElementById("overlay");
    const links = [...document.querySelectorAll(".link")];
    const langButtons = document.querySelectorAll(".language-selector button");
    const descriptions = document.querySelectorAll(".description .lang");

    /** Centro de escena */
    const center = () => ({ x: innerWidth/2, y: innerHeight/2 });

    /** Dibuja los cables con pequeña variación para sensación “viva” */
    function drawLines(jitter=true){
      if(!svg) return;
      svg.innerHTML = `
        <defs>
          <linearGradient id="wireGrad" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0%"  stop-color="var(--accent2)"/>
            <stop offset="100%" stop-color="var(--accent)"/>
          </linearGradient>
        </defs>`;
      const c = center();
      const jitterAmt = jitter ? 4 : 0;

      links.forEach((link, i) => {
        const r = link.getBoundingClientRect();
        const x = r.left + r.width/2;
        const y = r.top  + r.height/2;

        const jx = (Math.random()*jitterAmt - jitterAmt/2);
        const jy = (Math.random()*jitterAmt - jitterAmt/2);

        const line = document.createElementNS("http://www.w3.org/2000/svg","line");
        line.setAttribute("x1", c.x.toFixed(1));
        line.setAttribute("y1", c.y.toFixed(1));
        line.setAttribute("x2", (x + jx).toFixed(1));
        line.setAttribute("y2", (y + jy).toFixed(1));
        line.style.animationDelay = (i*60) + "ms";
        svg.appendChild(line);
      });
    }

    /** Regeneración periódica: 0.5s, pausable con overlay */
    let regenId = null;
    function startRegeneration(){
      stopRegeneration();
      regenId = setInterval(()=>{ if(!overlay.classList.contains("active")) drawLines(true); }, 500);
    }
    function stopRegeneration(){
      if(regenId){ clearInterval(regenId); regenId = null; }
    }

    /** Toggle overlay */
    function openOverlay(){
      overlay.classList.add("active");
      svg.style.opacity = "0";
      links.forEach(l=>l.style.opacity="0.2");
      logo.style.opacity = ".55";
    }
    function closeOverlay(){
      overlay.classList.remove("active");
      svg.style.opacity = "1";
      links.forEach(l=>l.style.opacity="1");
      logo.style.opacity = "1";
      drawLines(false);
    }

    /** Idioma persistente */
    function setLang(lang){
      try{ localStorage.setItem('lang', lang); }catch{}
      descriptions.forEach(d=>d.classList.remove("active"));
      const n = document.querySelector(".lang-" + lang);
      if(n) n.classList.add("active");
      langButtons.forEach(b=>{
        const on = b.dataset.lang === lang;
        b.classList.toggle("active", on);
        b.setAttribute("aria-pressed", on ? "true" : "false");
      });
    }

    /** Shortcuts HUD */
    function onKey(e){
      if(e.key === "Escape") closeOverlay();
      if(e.key.toLowerCase() === "l") overlay.classList.contains("active") ? closeOverlay() : openOverlay();
      if(e.key.toLowerCase() === "g"){
        const hud = document.querySelector(".hud");
        hud.style.display = hud.style.display === "none" ? "" : "none";
      }
    }

    /** Eventos */
    window.addEventListener("load", ()=>{
      drawLines(false);
      startRegeneration();
      const initLang = localStorage.getItem('lang') || (navigator.language||'es').slice(0,2) || 'es';
      setLang(['es','en','fr','jp'].includes(initLang)?initLang:'es');
    });
    window.addEventListener("resize", ()=> requestAnimationFrame(()=>drawLines(false)));
    document.addEventListener("keydown", onKey);

    logo.addEventListener("click", e=>{ e.stopPropagation(); openOverlay(); });
    overlay.addEventListener("click", closeOverlay);
    overlay.querySelector(".description").addEventListener("click", e=> e.stopPropagation());
    langButtons.forEach(btn=>btn.addEventListener("click", e=>{ e.stopPropagation(); setLang(btn.dataset.lang); }));

    /* Pausar regeneración al pasar el mouse por enlaces o overlay */
    const pause = () => stopRegeneration();
    const resume = () => startRegeneration();
    links.forEach(l => { l.addEventListener("mouseenter", pause); l.addEventListener("mouseleave", resume); });
    overlay.addEventListener("mouseenter", pause);
    overlay.addEventListener("mouseleave", resume);

    /* Seguridad: si el tab pierde foco, pausa para ahorrar CPU */
    window.addEventListener("blur", stopRegeneration);
    window.addEventListener("focus", startRegeneration);
  </script>
</body>
</html>
