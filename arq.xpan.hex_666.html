<!DOCTYPE html>
<html lang="es" data-xpan>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="color-scheme" content="light dark"/>
  <title>hex_666 — arquitectura</title>

  <style>
    /* ===== tokens post-tech ===== */
    :root{
      --bg:#000; --fg:#E0E3E6; --fg-dim:#AEB4BA; --accent:#1860FF;
      --line:#2A2E31; --line-weak:#1A1D20;
      --font-ui:-apple-system,BlinkMacSystemFont,"Inter","Segoe UI",Roboto,Helvetica,Arial,sans-serif;
      --font-mono:"IBM Plex Mono","SFMono-Regular",Menlo,Consolas,Monaco,monospace;
      --maxw:1000px; --g:24px; --pad-x:clamp(16px,4vw,48px); --header-h:64px;
      --b1:1px solid var(--line);
    }
    @media (prefers-color-scheme:light){
      :root{ --bg:#fff; --fg:#0E1113; --fg-dim:#4A5158; --accent:#1860FF; --line:#D9DEE2; --line-weak:#ECEFF2; }
    }

    /* ===== base ===== */
    *,*::before,*::after{box-sizing:border-box}
    html,body{
      margin:0; background:var(--bg); color:var(--fg);
      font-family:var(--font-ui);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }
    a{color:var(--accent); text-decoration:none; border-bottom:1px solid transparent; transition:border-color .15s linear}
    a:hover{border-bottom-color:var(--accent)}
    img,video,iframe{display:block; max-width:100%; height:auto; background:transparent}

    /* ===== header + idioma ===== */
    header{position:fixed; top:12px; left:var(--pad-x); z-index:10; height:var(--header-h); display:flex; align-items:center}
    header img{width:50px; height:auto; mix-blend-mode:difference; filter:invert(1) saturate(100%)}
    @media (prefers-color-scheme:light){ header img{ filter:none } }

    .language-selector{
      position:fixed; top:12px; right:var(--pad-x); z-index:20;
      display:flex; gap:8px; text-transform:lowercase; font-family:var(--font-ui); font-size:.9rem;
    }
    .language-selector button{
      appearance:none; background:transparent; border:var(--b1); border-radius:0;
      padding:.35rem .6rem; cursor:pointer; color:var(--fg-dim);
      font:600 .9rem/1 var(--font-ui); letter-spacing:.2px;
      transition:color .15s linear, border-color .15s linear, background-color .15s linear, opacity .15s linear;
      opacity:.72;
    }
    .language-selector button:hover{color:var(--fg); opacity:1}
    .language-selector button.active{color:var(--fg); border-color:var(--accent); background:rgba(24,96,255,.06); opacity:1}

    /* ===== layout ===== */
    .container{max-width:var(--maxw); margin:calc(var(--header-h) + 40px) auto 64px; padding:0 var(--pad-x)}
    h1{font:700 1.5rem/1.25 var(--font-ui); margin:0 0 .5rem; text-transform:lowercase}
    .meta{font:400 .9rem/1.5 var(--font-ui); color:var(--fg-dim); font-style:normal; margin:0 0 1.25rem}
    .description{font:400 1rem/1.65 var(--font-ui); max-width:700px; margin:0 0 2rem}

    /* ===== galería ===== */
    .gallery{display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:1rem; margin-bottom:2rem}
    .gallery img{width:100%; height:auto; object-fit:cover; border:var(--b1); border-radius:0}

    /* ===== embeds ===== */
    .pdf-embed,.video-embed{display:flex; flex-direction:column; gap:1.5rem; margin-bottom:2rem; overflow-x:auto}
    .pdf-embed iframe,.video-embed iframe{min-width:1000px; height:600px; border:var(--b1); border-radius:0; background:#0C0D0F}
    @media (max-width:768px){
      .container{margin:calc(var(--header-h) + 28px) auto 40px}
      .pdf-embed iframe,.video-embed iframe{min-width:100%; height:auto; aspect-ratio:4/3}
    }

    /* ===== idioma visibilidad ===== */
    .lang{display:none}
    .lang.active{display:block}
  </style>

  <!-- preservo util existente -->
  <script src="/assets/js/media-proxy.js" defer></script>
</head>
<body>
  <header>
    <a href="https://xpan.earth" target="_blank" rel="noopener">
      <img src="xpan.svg" alt="xpan logo" fetchpriority="high"/>
    </a>
  </header>

  <nav class="language-selector" aria-label="selector de idioma">
    <button type="button" data-lang="es" class="active" aria-pressed="true">es</button>
    <button type="button" data-lang="en" aria-pressed="false">en</button>
    <button type="button" data-lang="fr" aria-pressed="false">fr</button>
    <button type="button" data-lang="jp" aria-pressed="false">jp</button>
  </nav>

  <div class="container">
    <!-- Español -->
    <div class="lang lang-es active">
      <h1>hex_666</h1>
      <div class="meta">febrero 2024 — ciudad de méxico</div>
      <div class="description">
        hex_666 es una estructura suspendida desde un solo punto de anclaje, equilibrada mediante seis cables de acero y el peso de seis bocinas mdl.01-r. la forma general replica una estrella de seis puntas, construida con perfiles de acero cuadrado de 1½", dispuestos en ángulo de 18° y unidos a una pieza central de acero rolado.<br><br>
        el sistema se completa con un aro flotante de 3 metros de diámetro, soportado por tensión cruzada, donde se distribuyeron 30 velas. todo el conjunto se mantuvo en acabado natural, con perfiles rojos, soldaduras visibles y uniones expuestas.<br><br>
        la instalación funcionó como matriz física y sonora. durante seis horas, seis colaboradores activaron las seis bocinas de forma continua, generando una vibración circular sostenida. el montaje se realizó en equilibrio simétrico, con precisión en cada tensión y contrapeso.<br><br>
        hex_666 articula geometría, sonido y gravedad. una figura técnica y simbólica, activa en todos sus niveles.
      </div>
    </div>

    <!-- English -->
    <div class="lang lang-en">
      <h1>hex_666</h1>
      <div class="meta">february 2024 — mexico city</div>
      <div class="description">
        hex_666 is a structure suspended from a single anchor point, balanced by six steel cables and the weight of six mdl.01-r speakers. its overall shape replicates a six-pointed star, built from 1½" square steel profiles arranged at 18° angles and joined to a central rolled steel hub.<br><br>
        the system is completed with a 3-meter diameter floating ring, supported by cross-tensioned cables, where 30 candles were distributed. the entire assembly remained in raw finish, with red profiles, exposed welds, and visible joints.<br><br>
        the installation operated as both a physical and sonic matrix. for six hours, six collaborators continuously activated the six speakers, generating a sustained circular vibration. the structure was assembled in symmetric balance, with precise tension and counterweights.<br><br>
        hex_666 articulates geometry, sound, and gravity. a technical and symbolic figure, active on every level.
      </div>
    </div>

    <!-- Français -->
    <div class="lang lang-fr">
      <h1>hex_666</h1>
      <div class="meta">février 2024 — mexico</div>
      <div class="description">
        hex_666 est une structure suspendue à partir d’un seul point d’ancrage, équilibrée par six câbles en acier et le poids de six haut-parleurs mdl.01-r. sa forme générale reproduit une étoile à six branches, construite à partir de profilés carrés en acier de 1½", disposés à un angle de 18° et reliés à une pièce centrale en acier cintré.<br><br>
        le système est complété par un anneau flottant de 3 mètres de diamètre, soutenu par tension croisée, où 30 bougies ont été réparties. l’ensemble est resté brut : profils rouges, soudures visibles et jonctions exposées.<br><br>
        l’installation a fonctionné comme matrice physique et sonore. pendant six heures, six collaborateurs ont activé les six haut-parleurs en continu, générant une vibration circulaire soutenue. le montage a été réalisé en équilibre symétrique, avec précision dans chaque tension et contrepoids.<br><br>
        hex_666 articule géométrie, son et gravité. une figure technique et symbolique, active à tous les niveaux.
      </div>
    </div>

    <!-- 日本語 -->
    <div class="lang lang-jp">
      <h1>hex_666</h1>
      <div class="meta">2024年2月 — メキシコシティ</div>
      <div class="description">
        hex_666は、1つのアンカーポイントから吊り下げられた構造で、6本のスチールケーブルと6台のmdl.01-rスピーカーの重量によってバランスを保っています。全体の形状は6つの頂点を持つ星を模しており、1½インチ角の鋼材を18度の角度で配置し、中央の曲げ加工された鋼部品に接合しています。<br><br>
        構造は直径3メートルの浮遊リングで完成されており、交差する張力で支えられ、そこに30本のキャンドルが配置されました。全体は赤い鋼材、露出した溶接部、むき出しの接合部といった自然仕上げのままで保たれています。<br><br>
        このインスタレーションは物理的かつ音響的なマトリクスとして機能しました。6時間にわたり6人の協力者が6つのスピーカーを連続的に作動させ、持続的な円形振動を生み出しました。構造は対称的なバランスで組み立てられ、それぞれの張力と重りが正確に調整されています。<br><br>
        hex_666は幾何学、音、重力を結びつけた技術的かつ象徴的な構造です。全てのレベルで活動する存在です。
      </div>
    </div>

    <!-- Galería -->
    <div class="gallery">
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811425/original_53b19dd284ba329438496d3cc69c405e.jpg?1751423363?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811427/original_97ba81be1056212cbfb5a1ffedcd6709.jpg?1751423374?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811428/original_fc26fe7ccb2ee3b35ae173eaf3a99c5f.jpg?1751423375?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811430/original_890c3f49ee312aba6bcb1f8810f6eda9.jpg?1751423379?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811431/original_5a146e93ad1a359ecddb75a28d7aa75b.jpg?1751423380?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811433/original_e7b9854b000d8b733cc2b93d06f8624d.jpg?1751423383?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811435/original_bd7257485429b69abb87a583c2e32157.jpg?1751423384?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811436/original_dc8b429e93a07bcb294eef66154f9d84.jpg?1751423386?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811438/original_7eddca9e7b6bdce01ff653f8d5b692a9.jpg?1751423387?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811565/original_deaee14989db4033fd00477e64958567.png?1751424040?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811566/original_13eca9fabf51ccc24d7436c332303c88.png?1751424056?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811571/original_ff571f67a64507f2ac9fae970b873eaf.png?1751424089?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811575/original_5cf7ba0dc074a4a8dab79186b3e00e6a.png?1751424115?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811576/original_5bcb95e7ceaf6670cf1ad90a172ceefc.png?1751424118?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811577/original_e1b4e9b6a2f7d177b750586019dfb060.png?1751424118?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811578/original_233b27da8068c2b5113e0431e48af2eb.png?1751424118?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811579/original_18952181e6d7b1cf2b68e4cf680b95cf.png?1751424119?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811580/original_d0ee9a31efc8593d22ea1e6c3a3e92f7.png?1751424119?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811582/original_01a75cbeb1c69dbdfdc8d23b0f4165e4.png?1751424125?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811583/original_e5b9c82d68d90df85a59bb250d918a14.png?1751424130?bc=0"/>
      <img alt="" loading="lazy" decoding="async" data-src="https://d2w9rnfcy7mm78.cloudfront.net/37811585/original_6981566671b9cc078a6e3c760e216931.png?1751424135?bc=0"/>
    </div>

    <!-- PDF -->
    <div class="pdf-embed">
      <iframe title="hex_666 — planos" loading="lazy" data-src="https://attachments.are.na/37811414/cc46d9a5f82a1bd3e1773162f1dfe799.pdf?1751423223"></iframe>
    </div>

    <!-- Video -->
    <div class="video-embed">
      <iframe title="hex_666 — video" loading="lazy" data-src="https://www.youtube.com/embed/pdncvO2FJZM" allowfullscreen></iframe>
    </div>
  </div>

  <!-- idioma + lazy + lightbox (inline) -->
  <script>
    // idioma
    function setLangInline(lang){
      localStorage.setItem('lang', lang);
      document.documentElement.setAttribute('lang', lang);
      document.querySelectorAll('.lang').forEach(el=> el.classList.remove('active'));
      document.querySelectorAll('.lang-' + lang).forEach(el=> el.classList.add('active'));
      document.querySelectorAll('.language-selector button').forEach(btn=>{
        const on = (btn.dataset.lang||btn.textContent.trim()) === lang;
        btn.classList.toggle('active', on);
        btn.setAttribute('aria-pressed', on ? 'true' : 'false');
      });
    }
    // lazy imágenes/iframes
    (function(){
      const io=new IntersectionObserver((es)=>{
        es.forEach(en=>{
          if(!en.isIntersecting) return;
          const el=en.target, src=el.getAttribute('data-src');
          if(src){ el.src = src; el.removeAttribute('data-src'); }
          io.unobserve(el);
        });
      },{rootMargin:'600px 0px', threshold:0});
      document.querySelectorAll('img[data-src],iframe[data-src]').forEach(el=> io.observe(el));
    })();
    // boot
    (function(){
      const saved = localStorage.getItem('lang') || (navigator.language||'es').slice(0,2);
      setLangInline(['es','en','fr','jp'].includes(saved) ? saved : 'es');
      document.querySelectorAll('.language-selector button').forEach(b=>{
        b.addEventListener('click', ()=> setLangInline(b.dataset.lang||b.textContent.trim()) );
      });
    })();
  </script>

  <!-- lightbox preservado -->
  <style>
    #xpan-lightbox{position:fixed;inset:0;z-index:9999;display:none;align-items:center;justify-content:center;background:rgba(10,10,10,.45);backdrop-filter:blur(10px) saturate(120%);-webkit-backdrop-filter:blur(10px) saturate(120%);touch-action:none;overscroll-behavior:contain}
    #xpan-lightbox.open{display:flex}
    #xpan-lightbox .sheet{position:relative;max-width:100vw;max-height:100vh;overflow:hidden;transform:scale(.985);opacity:0;transition:transform .18s cubic-bezier(.2,.8,.2,1),opacity .18s ease}
    #xpan-lightbox.open .sheet{transform:scale(1);opacity:1}
    #xpan-lightbox img{display:block;width:auto;height:auto;max-width:100vw;max-height:100vh;object-fit:contain;margin:0;background:transparent;pointer-events:none}
    #xpan-lightbox video{display:block;width:auto;height:auto;max-width:100vw;max-height:100vh;object-fit:contain;margin:0;background:transparent;pointer-events:auto}
    html.lb-open,body.lb-open{overflow:hidden;touch-action:none}
    @media (prefers-color-scheme:light){#xpan-lightbox{background:rgba(255,255,255,.55)}}
  </style>
  <div id="xpan-lightbox" role="dialog" aria-modal="true"><div class="sheet"></div></div>
  <script>
    (()=>{const e=document.getElementById("xpan-lightbox"),t=e.querySelector(".sheet");let n=[],i=-1,o=0,a=0;
      function d(){n=Array.from(document.querySelectorAll("img,video")).filter(r=>!r.closest("#xpan-lightbox")&&!r.closest("a")&&(r.currentSrc||r.src))}
      function l(r){if(r<0||r>=n.length)return;i=r,t.innerHTML="";const o=n[i],d=o.tagName.toLowerCase()==="video",l=document.createElement(d?"video":"img");
        if(d){l.src=o.currentSrc||o.src;l.playsInline=!0;l.controls=!0;l.loop=!!o.loop;l.muted=o.muted??!0;!document.hidden&&(l.autoplay=!0);
          l.addEventListener("click",s=>s.stopPropagation(),{passive:!0});
          l.addEventListener("dblclick",s=>{s.stopPropagation(),c()});
          l.addEventListener("touchend",s=>{const e=s.changedTouches[0].clientX;const t=Date.now();Math.abs(e-a)<10&&t-o<300&&(s.stopPropagation(),c());a=e;o=t},{passive:!0})}
        else{l.src=o.currentSrc||o.src;o.srcset&&(l.srcset=o.srcset);o.sizes&&(l.sizes=o.sizes);l.alt=o.alt||"";l.decoding="async";l.loading="eager"}
        t.appendChild(l);e.classList.add("open");document.documentElement.classList.add("lb-open");document.body.classList.add("lb-open")}
      function c(){e.classList.remove("open"),t.innerHTML="",document.documentElement.classList.remove("lb-open"),document.body.classList.remove("lb-open"),i=-1}
      function s(e){d();const t=n.indexOf(e);t>-1&&l(t)}
      document.body.addEventListener("click",t=>{const e=t.target;if(!e)return;if(e.closest("a"))return;if(e.tagName==="IMG"||e.tagName==="VIDEO"){t.preventDefault(),t.stopPropagation(),s(e)}},{capture:!0,passive:!1});
      e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation(),c()},{passive:!1});
      window.addEventListener("keydown",t=>{if(!e.classList.contains("open"))return;"Escape"===t.key&&c(),("ArrowRight"===t.key||"l"===t.key)&&i<n.length-1&&l(i+1),("ArrowLeft"===t.key||"h"===t.key)&&i>0&&l(i-1)});
      e.addEventListener("touchstart",e=>{o=Date.now(),a=e.touches[0].clientX},{passive:!0});
      e.addEventListener("touchend",e=>{const t=e.changedTouches[0].clientX-a;Math.abs(t)>50&&(t<0&&i<n.length-1?l(i+1):t>0&&i>0&&l(i-1))},{passive:!0});
      ["wheel","touchmove","pointermove"].forEach(t=>{e.addEventListener(t,n=>{e.classList.contains("open")&&n.preventDefault()},{passive:!1})});
      new MutationObserver(()=>d()).observe(document.documentElement,{subtree:!0,childList:!0}); d();
    })();
  </script>
</body>
</html>
